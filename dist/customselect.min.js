(function(c){c.fn.select=function(m){var e=c.extend({animations:"",maxWidth:0,onChange:function(){}},m);return this.each(function(){function n(){var a=c(window).height(),b=f.outerHeight(),e=g.offset().top-window.pageYOffset;a-e-b<=e?d.css({top:"",bottom:b,"border-bottom":0,"border-top":""}):d.css({top:b,bottom:"","border-top":0,"border-bottom":""})}function p(a){d.find(".is-active").removeClass("is-active");h.eq(a).addClass("is-active")}function q(a){a=h.eq(a);f.text(a.text())}function r(){var a=
d.find(".is-active");e.onChange(a.data("get"));t.attr("selected",!1).eq(a.index()).attr("selected",!0);u()}function u(){f.removeClass("is-open");d.removeClass("is-open");k=!1}var l=c(this),t=l.find("option"),v=[];t.each(function(){var a=c(this),b=!!a.prop("selected");v.push('<li class="select-js__item" data-selected="'+b+'" data-get="'+a.val()+'">'+a.text()+"</li>")});l.after('<div class="select-js__box"><div class="select-js__name"></div><ul class="select-js__list">{list}</ul></div>'.replace("{list}",
v.join(""))).attr("hidden","hidden");var g=l.next(".select-js__box"),f=g.find(".select-js__name"),h=g.find(".select-js__item"),d=g.find(".select-js__list"),m=d.outerHeight(),w=h.length,x=~~e.maxWidth<=l.outerWidth()?l.outerWidth():~~e.maxWidth,k=!1;d.css("max-width",x).addClass(e.animations);e.maxWidth?g.css({width:"100%","max-width":e.maxWidth}):g.css("width",l.outerWidth());h.each(function(){var a=c(this);!0===a.data("selected")&&(f.text(a.text()),a.addClass("is-active"))});c(window).on("resize",
n);f.on("click",function(){k||n();f.toggleClass("is-open");d.toggleClass("is-open");k=k?!1:!0});h.on("click",function(a){a=c(this).index();p(a);q(a);r()});c(document).on("click",function(a){c(a.target).hasClass("select-js__name")||k&&u()}).on("keydown",function(a){if(k&&(27!==a.which&&13!==a.which||r(),38===a.which||40===a.which)){a.preventDefault();a=a.which;var b=d.find(".is-active").index();if(0<=b&&(38===a&&--b,40===a&&(b+=1),!(0>b||b>=w))){p(b);q(b);var c=d[0].scrollHeight;a=d.scrollTop();c>
m&&(b=h.eq(b).offset().top,c=d.offset().top,d.scrollTop(b-(c-a)))}}})})}})(jQuery);